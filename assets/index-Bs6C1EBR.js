import{d as v,r as c,a as w,c as g,b as n,e as r,w as p,u,f as y,s as k,g as x,h as B,R,o as S,i as U}from"./index-C-k_s2_Q.js";import{c as _}from"./commonService-DSuS5pCZ.js";import{c as C}from"./cloneDeep-D0aWrNPc.js";import{I,a as N}from"./index-Dra_JqNR.js";import{B as b}from"./index-Cam0EG4z.js";import"./_getPrototype-CHEfUugf.js";const E={class:"p-5"},K={class:"w-full md:w-1/2"},T={class:"w-full md:w-1/2 mt-5"},V={class:"mt-5"},F=v({__name:"index",setup($){const l=B(),f=x(),o=c({username:"",password:""}),s=w({loading:!1});async function a(){var m;s.loading=!0;const i=C(o.value),{error:e,data:t}=await _.login(i).finally(()=>s.loading=!1);if(e)return;k(t);const d=(m=f.query)==null?void 0:m.returnUrl;if(!d){l.push({name:R.HOMEPAGE});return}l.push(decodeURIComponent(d))}return(i,e)=>(S(),g("div",E,[n("div",K,[r(u(I),{value:o.value.username,"onUpdate:value":e[0]||(e[0]=t=>o.value.username=t),placeholder:"Tài khoản",onKeyup:e[1]||(e[1]=p(t=>a(),["enter"]))},null,8,["value"])]),n("div",T,[r(u(N),{value:o.value.password,"onUpdate:value":e[2]||(e[2]=t=>o.value.password=t),placeholder:"Mật khẩu",onKeyup:e[3]||(e[3]=p(t=>a(),["enter"]))},null,8,["value"])]),n("div",V,[r(u(b),{type:"primary",loading:s.loading,onClick:e[4]||(e[4]=t=>a())},{default:y(()=>e[5]||(e[5]=[U("Submit")])),_:1},8,["loading"])])]))}});export{F as default};
