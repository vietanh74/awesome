import{_ as te,a as ne,C as re,R as ae}from"./index.vue_vue_type_script_setup_true_lang-Z1ZMWWHV.js";import{aS as Q,e as x,aq as X,B as b,aT as oe,j as N,H as ie,aU as w,C as se,ax as T,aV as J,a5 as le,aW as ue,aX as ce,E as O,Q as de,u as C,a6 as fe,d as me,a as pe,r as ve,ar as he,c as S,f as E,as as ge,F as I,l as H,at as ye,b as j,k as be,m as we,h as _e,R as Se,o as _}from"./index-C-k_s2_Q.js";import{c as Oe}from"./commonService-DSuS5pCZ.js";import{c as Ce}from"./cloneDeep-D0aWrNPc.js";import{s as D}from"./size-DR8Yrbt1.js";import"./_getPrototype-CHEfUugf.js";function Y(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var l=Array(i);++r<i;)l[r]=e[r+t];return l}function xe(e,t,n){return e&&e.length?(t=t===void 0?1:Q(t),Y(e,0,t<0?0:t)):[]}function Me(e,t,n){var r=e==null?0:e.length;return r?(t=t===void 0?1:Q(t),t=r-t,Y(e,t<0?0:t,r)):[]}var je={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};function q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){ke(e,i,n[i])})}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=function(t,n){var r=q({},t,n.attrs);return x(X,q({},r,{icon:je}),null)};R.displayName="CopyOutlined";R.inheritAttrs=!1;var $e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"};function G(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Pe(e,i,n[i])})}return e}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(t,n){var r=G({},t,n.attrs);return x(X,G({},r,{icon:$e}),null)};z.displayName="SendOutlined";z.inheritAttrs=!1;function Z(e){return ue()?(ce(e),!0):!1}const W=new WeakMap,Ee=(...e)=>{var t;const n=e[0],r=(t=T())==null?void 0:t.proxy;if(r==null&&!J())throw new Error("injectLocal must be called in setup");return r&&W.has(r)&&n in W.get(r)?W.get(r)[n]:le(...e)},B=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const We=Object.prototype.toString,Le=e=>We.call(e)==="[object Object]";function Ne(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const r=t;t=void 0,r&&await r},n}function Te(e,t){var n;if(typeof e=="number")return e+t;const r=((n=e.match(/^-?\d+\.?\d*/))==null?void 0:n[0])||"",i=e.slice(r.length),l=Number.parseFloat(r)+t;return Number.isNaN(l)?e:l+i}function $(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function L(e){return Array.isArray(e)?e:[e]}function Re(e){return T()}function ze(e,t=!0,n){Re()?N(e,n):t?e():ie(e)}function Be(e,t,n={}){const{immediate:r=!0,immediateCallback:i=!1}=n,l=b(!1);let d=null;function s(){d&&(clearTimeout(d),d=null)}function u(){l.value=!1,s()}function c(...f){i&&e(),s(),l.value=!0,d=setTimeout(()=>{l.value=!1,d=null,e(...f)},w(t))}return r&&(l.value=!0,B&&c()),Z(u),{isPending:oe(l),start:c,stop:u}}function Fe(e,t,n){return se(e,t,{...n,immediate:!0})}const F=B?window:void 0,K=B?window.navigator:void 0;function Ve(e){var t;const n=w(e);return(t=n==null?void 0:n.$el)!=null?t:n}function V(...e){const t=[],n=()=>{t.forEach(s=>s()),t.length=0},r=(s,u,c,f)=>(s.addEventListener(u,c,f),()=>s.removeEventListener(u,c,f)),i=O(()=>{const s=L(w(e[0])).filter(u=>u!=null);return s.every(u=>typeof u!="string")?s:void 0}),l=Fe(()=>{var s,u;return[(u=(s=i.value)==null?void 0:s.map(c=>Ve(c)))!=null?u:[F].filter(c=>c!=null),L(w(i.value?e[1]:e[0])),L(C(i.value?e[2]:e[1])),w(i.value?e[3]:e[2])]},([s,u,c,f])=>{if(n(),!(s!=null&&s.length)||!(u!=null&&u.length)||!(c!=null&&c.length))return;const h=Le(f)?{...f}:f;t.push(...s.flatMap(m=>u.flatMap(a=>c.map(o=>r(m,a,o,h)))))},{flush:"post"}),d=()=>{l(),n()};return Z(n),d}function Ae(){const e=b(!1),t=T();return t&&N(()=>{e.value=!0},t),e}function A(e){const t=Ae();return O(()=>(t.value,!!e()))}const Ie=Symbol("vueuse-ssr-width");function ee(){const e=J()?Ee(Ie,null):null;return typeof e=="number"?e:void 0}function k(e,t={}){const{window:n=F,ssrWidth:r=ee()}=t,i=A(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function"),l=b(typeof r=="number"),d=b(),s=b(!1),u=c=>{s.value=c.matches};return de(()=>{if(l.value){l.value=!i.value;const c=w(e).split(",");s.value=c.some(f=>{const h=f.includes("not all"),m=f.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),a=f.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let o=!!(m||a);return m&&o&&(o=r>=$(m[1])),a&&o&&(o=r<=$(a[1])),h?!o:o});return}i.value&&(d.value=n.matchMedia(w(e)),s.value=d.value.matches)}),V(d,"change",u,{passive:!0}),O(()=>s.value)}const He={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function De(e,t={}){function n(a,o){let g=w(e[w(a)]);return o!=null&&(g=Te(g,o)),typeof g=="number"&&(g=`${g}px`),g}const{window:r=F,strategy:i="min-width",ssrWidth:l=ee()}=t,d=typeof l=="number",s=d?b(!1):{value:!0};d&&ze(()=>s.value=!!r);function u(a,o){return!s.value&&d?a==="min"?l>=$(o):l<=$(o):r?r.matchMedia(`(${a}-width: ${o})`).matches:!1}const c=a=>k(()=>`(min-width: ${n(a)})`,t),f=a=>k(()=>`(max-width: ${n(a)})`,t),h=Object.keys(e).reduce((a,o)=>(Object.defineProperty(a,o,{get:()=>i==="min-width"?c(o):f(o),enumerable:!0,configurable:!0}),a),{});function m(){const a=Object.keys(e).map(o=>[o,h[o],$(n(o))]).sort((o,g)=>o[2]-g[2]);return O(()=>a.filter(([,o])=>o.value).map(([o])=>o))}return Object.assign(h,{greaterOrEqual:c,smallerOrEqual:f,greater(a){return k(()=>`(min-width: ${n(a,.1)})`,t)},smaller(a){return k(()=>`(max-width: ${n(a,-.1)})`,t)},between(a,o){return k(()=>`(min-width: ${n(a)}) and (max-width: ${n(o,-.1)})`,t)},isGreater(a){return u("min",n(a,.1))},isGreaterOrEqual(a){return u("min",n(a))},isSmaller(a){return u("max",n(a,-.1))},isSmallerOrEqual(a){return u("max",n(a))},isInBetween(a,o){return u("min",n(a))&&u("max",n(o,-.1))},current:m,active(){const a=m();return O(()=>a.value.length===0?"":a.value.at(i==="min-width"?-1:0))}})}function U(e,t={}){const{controls:n=!1,navigator:r=K}=t,i=A(()=>r&&"permissions"in r),l=b(),d=typeof e=="string"?{name:e}:e,s=b(),u=()=>{var f,h;s.value=(h=(f=l.value)==null?void 0:f.state)!=null?h:"prompt"};V(l,"change",u,{passive:!0});const c=Ne(async()=>{if(i.value){if(!l.value)try{l.value=await r.permissions.query(d)}catch{l.value=void 0}finally{u()}if(n)return fe(l.value)}});return c(),n?{state:s,isSupported:i,query:c}:s}function qe(e={}){const{navigator:t=K,read:n=!1,source:r,copiedDuring:i=1500,legacy:l=!1}=e,d=A(()=>t&&"clipboard"in t),s=U("clipboard-read"),u=U("clipboard-write"),c=O(()=>d.value||l),f=b(""),h=b(!1),m=Be(()=>h.value=!1,i,{immediate:!1});async function a(){let p=!(d.value&&M(s.value));if(!p)try{f.value=await t.clipboard.readText()}catch{p=!0}p&&(f.value=y())}c.value&&n&&V(["copy","cut"],a,{passive:!0});async function o(p=w(r)){if(c.value&&p!=null){let v=!(d.value&&M(u.value));if(!v)try{await t.clipboard.writeText(p)}catch{v=!0}v&&g(p),f.value=p,h.value=!0,m.start()}}function g(p){const v=document.createElement("textarea");v.value=p??"",v.style.position="absolute",v.style.opacity="0",document.body.appendChild(v),v.select(),document.execCommand("copy"),v.remove()}function y(){var p,v,P;return(P=(v=(p=document==null?void 0:document.getSelection)==null?void 0:p.call(document))==null?void 0:v.toString())!=null?P:""}function M(p){return p==="granted"||p==="prompt"}return{isSupported:c,text:f,copied:h,copy:o}}const Ge={class:"p-4"},Ue={key:0,class:"h-12 flex items-center justify-center"},Qe={key:1},Xe={class:"mb-1 inline-flex break-all"},Je=["onClick"],Ye=["onClick"],Ze=["onClick"],Ke=["onClick"],et={key:1,class:"w-full",controls:""},tt=["src"],lt=me({__name:"index",setup(e){const t=_e(),n=pe({fetching:!1}),r=ve([]),{copy:i}=qe(),l=De(He),d=O(()=>l.lg.value?4:l.md.value?3:2),s=O(()=>{const m=[];let a=Ce(r.value);const o=D(r.value);if(o===0)return[];const g=Math.trunc(o/d.value);for(let y=1;y<=d.value;y++){if(y===d.value){const v=a;m.push(v);continue}const M=D(a),p=xe(a,g);m.push(p),a=Me(a,M-g)}return m});N(()=>{u()});async function u(){n.fetching=!0;const{error:m,data:a}=await Oe.getFiles().finally(()=>n.fetching=!1);m||(a.splice(0,1),r.value=he(a,o=>({...o,name:o.name.replace("tests/","").replace(".mp4","")})))}function c(m){m.isStarted=!0}async function f(m){await i(m.name),we.success("Copied")}async function h(m){t.push({name:Se.UPLOAD_IMAGE,query:{fileName:m.name}})}return(m,a)=>(_(),S("div",Ge,[n.fetching?(_(),S("div",Ue,[x(C(ge))])):(_(),S("div",Qe,[x(C(ae),{gutter:[16,16]},{default:E(()=>[(_(!0),S(I,null,H(s.value,(o,g)=>(_(),ye(C(re),{key:g,span:24/d.value},{default:E(()=>[(_(!0),S(I,null,H(o,(y,M)=>(_(),S("div",{key:M,class:"p-1 mb-4 border border-solid border-violet-200 rounded overflow-hidden"},[j("div",Xe,[j("div",null,be(y.name),1),j("div",{class:"ml-3 cursor-pointer select-none",onClick:p=>f(y)},[x(C(R))],8,Je),j("div",{class:"ml-3 cursor-pointer select-none",onClick:p=>h(y)},[x(C(z))],8,Ye)]),y.isStarted?(_(),S("video",et,[j("source",{src:y.url,type:"video/mp4"},null,8,tt)])):(_(),S("div",{key:0,class:"cursor-pointer",onClick:p=>c(y)},[x(C(te),{src:y.previewImage,class:"w-full h-auto",loading:"lazy"},{default:E(()=>[j("img",{src:ne,class:"w-full h-auto min-h-14",loading:"lazy",onClick:p=>c(y)},null,8,Ke)]),_:2},1032,["src"])],8,Ze))]))),128))]),_:2},1032,["span"]))),128))]),_:1})]))]))}});export{lt as default};
