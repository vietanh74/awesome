import{_ as F,a as W,C as q,R as G}from"./index.vue_vue_type_script_setup_true_lang-CdyIjSiQ.js";import{s as h,aJ as A,Y as O,b3 as J,b4 as _,Z as U,b5 as Q,b6 as Y,a0 as x,F as T,aQ as Z,u as g,ap as X,l as K,o as ee,m as te,aK as ne,p as b,t as P,aL as ae,I as oe,J as re,aM as ie,q as m,H as se,K as le,y as ce,R as ue,z as y}from"./index-CWZE63BC.js";import{c as de}from"./commonService-CPC1D2p3.js";var fe={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};function R(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),o.forEach(function(i){pe(e,i,n[i])})}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var M=function(t,n){var o=R({},t,n.attrs);return h(A,R({},o,{icon:fe}),null)};M.displayName="CopyOutlined";M.inheritAttrs=!1;var ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"};function $(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),o.forEach(function(i){me(e,i,n[i])})}return e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(t,n){var o=$({},t,n.attrs);return h(A,$({},o,{icon:ve}),null)};j.displayName="SendOutlined";j.inheritAttrs=!1;function N(e){return Q()?(Y(e),!0):!1}const L=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ye=Object.prototype.toString,ge=e=>ye.call(e)==="[object Object]";function he(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const o=t;t=void 0,o&&await o},n}function k(e){return Array.isArray(e)?e:[e]}function be(e,t,n={}){const{immediate:o=!0,immediateCallback:i=!1}=n,u=O(!1);let f=null;function r(){f&&(clearTimeout(f),f=null)}function s(){u.value=!1,r()}function a(...l){i&&e(),r(),u.value=!0,f=setTimeout(()=>{u.value=!1,f=null,e(...l)},_(t))}return o&&(u.value=!0,L&&a()),N(s),{isPending:J(u),start:a,stop:s}}function _e(e,t,n){return U(e,t,{...n,immediate:!0})}const Oe=L?window:void 0,V=L?window.navigator:void 0;function Se(e){var t;const n=_(e);return(t=n==null?void 0:n.$el)!=null?t:n}function B(...e){const t=[],n=()=>{t.forEach(r=>r()),t.length=0},o=(r,s,a,l)=>(r.addEventListener(s,a,l),()=>r.removeEventListener(s,a,l)),i=x(()=>{const r=k(_(e[0])).filter(s=>s!=null);return r.every(s=>typeof s!="string")?r:void 0}),u=_e(()=>{var r,s;return[(s=(r=i.value)==null?void 0:r.map(a=>Se(a)))!=null?s:[Oe].filter(a=>a!=null),k(_(i.value?e[1]:e[0])),k(g(i.value?e[2]:e[1])),_(i.value?e[3]:e[2])]},([r,s,a,l])=>{if(n(),!(r!=null&&r.length)||!(s!=null&&s.length)||!(a!=null&&a.length))return;const c=ge(l)?{...l}:l;t.push(...r.flatMap(S=>s.flatMap(v=>a.map(w=>o(S,v,w,c)))))},{flush:"post"}),f=()=>{u(),n()};return N(n),f}function we(){const e=O(!1),t=Z();return t&&T(()=>{e.value=!0},t),e}function H(e){const t=we();return x(()=>(t.value,!!e()))}function z(e,t={}){const{controls:n=!1,navigator:o=V}=t,i=H(()=>o&&"permissions"in o),u=O(),f=typeof e=="string"?{name:e}:e,r=O(),s=()=>{var l,c;r.value=(c=(l=u.value)==null?void 0:l.state)!=null?c:"prompt"};B(u,"change",s,{passive:!0});const a=he(async()=>{if(i.value){if(!u.value)try{u.value=await o.permissions.query(f)}catch{u.value=void 0}finally{s()}if(n)return X(u.value)}});return a(),n?{state:r,isSupported:i,query:a}:r}function Ce(e={}){const{navigator:t=V,read:n=!1,source:o,copiedDuring:i=1500,legacy:u=!1}=e,f=H(()=>t&&"clipboard"in t),r=z("clipboard-read"),s=z("clipboard-write"),a=x(()=>f.value||u),l=O(""),c=O(!1),S=be(()=>c.value=!1,i,{immediate:!1});async function v(){let d=!(f.value&&E(r.value));if(!d)try{l.value=await t.clipboard.readText()}catch{d=!0}d&&(l.value=D())}a.value&&n&&B(["copy","cut"],v,{passive:!0});async function w(d=_(o)){if(a.value&&d!=null){let p=!(f.value&&E(s.value));if(!p)try{await t.clipboard.writeText(d)}catch{p=!0}p&&I(d),l.value=d,c.value=!0,S.start()}}function I(d){const p=document.createElement("textarea");p.value=d??"",p.style.position="absolute",p.style.opacity="0",document.body.appendChild(p),p.select(),document.execCommand("copy"),p.remove()}function D(){var d,p,C;return(C=(p=(d=document==null?void 0:document.getSelection)==null?void 0:d.call(document))==null?void 0:p.toString())!=null?C:""}function E(d){return d==="granted"||d==="prompt"}return{isSupported:a,text:l,copied:c,copy:w}}const Pe={class:"p-4"},ke={key:0,class:"h-12 flex items-center justify-center"},xe={key:1},Me={class:"p-1 border border-solid border-violet-200 rounded overflow-hidden"},je={class:"mb-1 inline-flex"},Le=["onClick"],Ee=["onClick"],Re=["onClick"],$e=["onClick"],ze={key:1,class:"w-full",controls:""},Ae=["src"],Be=K({__name:"index",setup(e){const t=ce(),n=ee({fetching:!1}),o=te([]),{copy:i}=Ce();T(()=>{u()});async function u(){n.fetching=!0;const{error:a,data:l}=await de.getFiles().finally(()=>n.fetching=!1);a||(l.splice(0,1),o.value=ne(l,c=>({...c,name:c.name.replace("tests/","").replace(".mp4","")})))}function f(a){a.isStarted=!0}async function r(a){await i(a.name),le.success("Copied")}async function s(a){t.push({name:ue.UPLOAD_IMAGE,query:{fileName:a.name}})}return(a,l)=>(y(),b("div",Pe,[n.fetching?(y(),b("div",ke,[h(g(ae))])):(y(),b("div",xe,[h(g(G),{gutter:[16,16]},{default:P(()=>[(y(!0),b(oe,null,re(o.value,(c,S)=>(y(),ie(g(q),{key:S,lg:{span:6},md:{span:8},xs:{span:12}},{default:P(()=>[m("div",Me,[m("div",je,[m("div",null,se(c.name),1),m("div",{class:"ml-3 cursor-pointer select-none",onClick:v=>r(c)},[h(g(M))],8,Le),m("div",{class:"ml-3 cursor-pointer select-none",onClick:v=>s(c)},[h(g(j))],8,Ee)]),c.isStarted?(y(),b("video",ze,[m("source",{src:c.url,type:"video/mp4"},null,8,Ae)])):(y(),b("div",{key:0,class:"cursor-pointer",onClick:v=>f(c)},[h(g(F),{src:c.previewImage,class:"w-full h-auto",loading:"lazy"},{default:P(()=>[m("img",{src:W,class:"w-full h-auto min-h-14",loading:"lazy",onClick:v=>f(c)},null,8,$e)]),_:2},1032,["src"])],8,Re))])]),_:2},1024))),128))]),_:1})]))]))}});export{Be as default};
